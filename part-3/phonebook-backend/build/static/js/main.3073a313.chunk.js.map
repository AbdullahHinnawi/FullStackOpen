{"version":3,"sources":["components/Filter.js","components/IndividualPerson.js","components/Persons.js","components/PersonForm.js","services/personsService.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","IndividualPerson","person","handleDelete","name","number","onClick","style","marginLeft","id","Persons","persons","toLowerCase","includes","map","PersonForm","props","newName","handleNewNameChange","newNumber","handleNewNumberChange","handleSubmit","onSubmit","type","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newPerson","post","update","updatedPerson","put","deletePerson","delete","successStyles","color","border","background","borderRadius","marginBottom","padding","width","errorStyles","Notification","message","success","App","useState","setPersons","setFilter","setNewName","setNewNumber","notificationMessage","setNotificationMessage","setSuccess","useEffect","personsService","className","event","target","preventDefault","alreadyAddedPerson","find","window","confirm","setTimeout","catch","error","console","log","status","length","createdPerson","concat","p","alert","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3073a313.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      Filter shown with\n      <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst IndividualPerson = ({ person, handleDelete }) => {\n  return (\n    <>\n      <p key={person.id}>\n        {person.name} {person.number}\n        <button onClick={() => handleDelete(person)} style={{ marginLeft: 10 }}>\n          Delete\n        </button>\n      </p>\n    </>\n  );\n};\n\nexport default IndividualPerson;\n","import React from 'react';\nimport IndividualPerson from './IndividualPerson';\n\nconst Persons = ({ persons, filter, handleDelete }) => {\n  return (\n    <div>\n      {persons\n        .filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        )\n        .map((person) => (\n          <IndividualPerson\n            key={person.id}\n            person={person}\n            handleDelete={handleDelete}\n          />\n        ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst PersonForm = (props) => {\n  const {\n    newName,\n    handleNewNameChange,\n    newNumber,\n    handleNewNumberChange,\n    handleSubmit,\n  } = props;\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          Name: <input value={newName} onChange={handleNewNameChange} />\n        </div>\n        <div>\n          Number: <input value={newNumber} onChange={handleNewNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  deletePerson,\n};\nexport default exportedObject;\n","import React from 'react';\n\nconst Notification = ({ message, success }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div style={success ? successStyles : errorStyles}>{message}</div>;\n};\n\nconst successStyles = {\n  color: 'green',\n  border: '1px solid green',\n  background: '#DEF1DD',\n  borderRadius: 5,\n  marginBottom: 16,\n  padding: 10,\n  width: 600,\n};\n\nconst errorStyles = {\n  color: '#731C23',\n  border: '1px solid #731C23',\n  background: '#F8D7D9',\n  borderRadius: 5,\n  marginBottom: 16,\n  padding: 10,\n  width: 600,\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport personsService from './services/personsService';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  useEffect(() => {\n    personsService.getAll().then((data) => setPersons(data));\n  }, []);\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const handleNewNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const alreadyAddedPerson = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n\n    if (alreadyAddedPerson) {\n      const repalcePhoneNumber = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n\n      if (repalcePhoneNumber) {\n        personsService\n          .update(alreadyAddedPerson.id, {\n            ...alreadyAddedPerson,\n            number: newNumber,\n          })\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== alreadyAddedPerson.id ? person : updatedPerson\n              )\n            );\n            setNewName('');\n            setNewNumber('');\n            setNotificationMessage(\n              `${alreadyAddedPerson.name} phone number updated successfully!`\n            );\n            setSuccess(true);\n            setTimeout(() => {\n              setNotificationMessage(null);\n              setSuccess(false);\n            }, 5000);\n          })\n          .catch((error) => {\n            console.log(error.response);\n            if (error.response.status === 404) {\n              setNotificationMessage(\n                `Information of ${alreadyAddedPerson.name} has already been removed from the server`\n              );\n            }\n            setNotificationMessage(error.response.data.error);\n\n            setTimeout(() => {\n              setNotificationMessage(null);\n            }, 5000);\n          });\n      }\n    } else {\n      const lastItemId = persons[persons.length - 1].id;\n      const newPerson = {\n        id: lastItemId + 1,\n        name: newName,\n        number: newNumber,\n      };\n\n      personsService\n        .create(newPerson)\n        .then((createdPerson) => {\n          setPersons(persons.concat(createdPerson));\n          setNewName('');\n          setNewNumber('');\n          setNotificationMessage(`${newName} added successfully!`);\n          setSuccess(true);\n          setTimeout(() => {\n            setNotificationMessage(null);\n            setSuccess(false);\n          }, 5000);\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n          setNotificationMessage(error.response.data.error);\n        });\n    }\n  };\n\n  const handleDelete = (person) => {\n    const deletionConfirmed = window.confirm(\n      `Would you like to delete ${person.name}?`\n    );\n    if (deletionConfirmed) {\n      personsService\n        .deletePerson(person.id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== person.id));\n        })\n        .catch((error) => {\n          console.log('error', error);\n          alert(`Person with id ${person.id} not found!`);\n        });\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} success={success} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        newName={newName}\n        handleNewNameChange={handleNewNameChange}\n        newNumber={newNumber}\n        handleNewNumberChange={handleNewNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}